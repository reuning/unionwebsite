{{ $images := .Get "images" }}
{{ $width := .Get "width" }}
{{ $height := .Get "height" }}

{{ $class := md5 $images }}
{{ $images := split $images ","}}
<div class="btn-group" role="group" aria-label="Basic radio toggle button group">
    {{ range $index, $arg := $images }}
    {{ $arg := split $arg ":" }}
    {{ $image := index $arg 0 }}
    {{ $label := index $arg 1 }}
  <input type="radio" class="btn-check" name="group{{$class}}"
          id = "btn{{ $image }}" autocomplete="off" data-bs-toggle="collapse"
          data-bs-target="#{{ $image }}" aria-expanded={{with not $index}}"true"{{else}}"false"{{end}}
          aria-controls="{{ $image }}" {{with not $index}}checked{{end}}>
  <label class="btn btn-outline-primary" for="btn{{ $image }}">
  {{$label}}
  </label>
  {{ end }}
</div>

<div id="acc{{ $class }}" class = "card">
  {{ range $index, $arg := $images }}
    {{ $arg := split $arg ":" }}
    {{ $image := index $arg 0 }}
    {{ $label := index $arg 1 }}
    <div class="collapse{{with not $index}} show{{end}}" id="{{ $image }}" data-bs-parent="#acc{{ $class }}">
      <div class="card-body">
        <figure class="plot">
            <picture>
              <source srcset="{{$image}}.webp" type="image/webp"
                width="{{ $width }}"
                height="{{ $height }}">
                <img src="{{$image}}.png"
                width="{{ $width }}"
                height="{{ $height }}"
                loading="lazy"
                decoding="async" >
            </picture>
        </figure>
      </div>
    </div>
  {{ end }}
</div>
